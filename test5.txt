[1]+  Stopped                 python3 main.py
root@HeRa_ChArGe_Bt_TeSt:~/acApp# killall -9 python3
root@HeRa_ChArGe_Bt_TeSt:~/acApp# killall -9 python3
python3: no process found
[1]+  Killed                  python3 main.py
root@HeRa_ChArGe_Bt_TeSt:~/acApp# killall -9 python3
python3: no process found
root@HeRa_ChArGe_Bt_TeSt:~/acApp# killall -9 python3
python3: no process found
root@HeRa_ChArGe_Bt_TeSt:~/acApp# killall -9 python3
python3: no process found
root@HeRa_ChArGe_Bt_TeSt:~/acApp# killall -9 python3
python3: no process found
root@HeRa_ChArGe_Bt_TeSt:~/acApp# python3 main.py
[2024-09-16 16:48:24]  ------------------------------------------------- Application Run Started ------------------------------------------------
Can't init device hci0: No such device (19)
SPRD Bluetooth init uart with init speed:1500000, final_speed:1500000, type:HCI UART H4
SPRD Bluetooth: Attempt to load conf from /vendor/etc/bt_configure_pskey.ini
SPRD Bluetooth: device_class ->  0x001F00
SPRD Bluetooth: feature_set ->  0xBF, 0xFF, 0x8D, 0xFE, 0xDB, 0x3D, 0x7B, 0x87, 0xFF, 0xA7, 0xFF, 0x7F, 0x00, 0xE0, 0xF7, 0x3E
SPRD Bluetooth: device_addr ->  0x6D, 0x6D, 0x8E, 0x8E, 0x8F, 0x8F
SPRD Bluetooth: comp_id ->  0x01EC
SPRD Bluetooth: g_sys_uart0_communication_supported ->  1
SPRD Bluetooth: cp2_log_mode ->  1
SPRD Bluetooth: LogLevel ->  0xFF
SPRD Bluetooth: g_central_or_perpheral ->  0
SPRD Bluetooth: Log_BitMask ->  0xFFFF
SPRD Bluetooth: super_ssp_enable ->  0
SPRD Bluetooth: common_rfu_b3 ->  0
SPRD Bluetooth: common_rfu_w ->  0x00000000, 0x00000000
SPRD Bluetooth: le_rfu_w ->  0x00000000, 0x000000000
SPRD Bluetooth: lmp_rfu_w ->  0x00000000, 0x000000000
SPRD Bluetooth: lc_rfu_w ->  0x00000000, 0x000000000
SPRD Bluetooth: g_wbs_nv_117 ->  0x004D
SPRD Bluetooth: g_wbs_nv_118 ->  0x0166
SPRD Bluetooth: g_nbv_nv_117 ->  0x004D
SPRD Bluetooth: g_nbv_nv_118 ->  0x0166
SPRD Bluetooth: g_sys_sco_transmit_mode ->  0
SPRD Bluetooth: audio_rfu_b1 ->  0
SPRD Bluetooth: audio_rfu_b2 ->  0
SPRD Bluetooth: audio_rfu_b3 ->  0
SPRD Bluetooth: audio_rfu_w ->  0x00000000, 0x00000000
SPRD Bluetooth: g_sys_sleep_in_standby_supported ->  1
SPRD Bluetooth: g_sys_sleep_master_supported ->  1
SPRD Bluetooth: g_sys_sleep_slave_supported ->  1
SPRD Bluetooth: power_rfu_b1 ->  0
SPRD Bluetooth: power_rfu_w ->  0x00000000, 0x00000000
SPRD Bluetooth: win_ext ->  40
SPRD Bluetooth: edr_tx_edr_delay ->  6
SPRD Bluetooth: edr_rx_edr_delay ->  8
SPRD Bluetooth: tx_delay ->  12
SPRD Bluetooth: rx_delay ->  34
SPRD Bluetooth: bb_rfu_w ->  0x00000000, 0x00000000
SPRD Bluetooth: agc_mode ->  0
SPRD Bluetooth: diff_or_eq ->  0xFF
SPRD Bluetooth: ramp_mode ->  0
SPRD Bluetooth: modem_rfu_b1 ->  0
SPRD Bluetooth: modem_rfu_w ->  0x00000000, 0x00000000
SPRD Bluetooth: BQB_BitMask_1 ->  0x00000000
SPRD Bluetooth: BQB_BitMask_2 ->  0x00000000
SPRD Bluetooth: bt_coex_threshold ->  0x04E2, 0x1F40, 0x0020, 0x00C8, 0x0006, 0x0000, 0x0000, 0x0000
SPRD Bluetooth: other_rfu_w ->  0x00000000, 0x00000000
SPRD Bluetooth: Attempt to load conf from /vendor/etc/bt_configure_rf.ini
SPRD Bluetooth: g_GainValue_A ->  0xE000, 0xE000, 0xE000, 0xE000, 0xE000, 0xE000
SPRD Bluetooth: g_ClassicPowerValue_A ->  0x4115, 0x3A15, 0x3415, 0x2E15, 0x2715, 0x2115, 0x1715, 0x1115, 0x0B15, 0x0715
SPRD Bluetooth: g_LEPowerValue_A ->  0x3B15, 0x3715, 0x3315, 0x2F15, 0x2B15, 0x2715, 0x2315, 0x1F15, 0x1B15, 0x1715, 0x1315, 0x0F15, 0x0B15, 0x0815, 0x0415, 0x0015
SPRD Bluetooth: g_BRChannelpwrvalue_A ->  0x0615, 0x0615, 0x0615, 0x0615, 0x0615, 0x0615, 0x0615, 0x0615
SPRD Bluetooth: g_EDRChannelpwrvalue_A ->  0x0615, 0x0615, 0x0615, 0x0715, 0x0715, 0x0715, 0x0715, 0x0715
SPRD Bluetooth: g_LEChannelpwrvalue_A ->  0x1515, 0x1515, 0x1515, 0x1515, 0x1515, 0x1515, 0x1515, 0x1515
SPRD Bluetooth: g_GainValue_B ->  0xE000, 0xE000, 0xE000, 0xE000, 0xE000, 0xE000
SPRD Bluetooth: g_ClassicPowerValue_B ->  0x4915, 0x4315, 0x4115, 0x3915, 0x3115, 0x2A15, 0x2215, 0x1B15, 0x1415, 0x0E15
SPRD Bluetooth: g_LEPowerValue_B ->  0x4B15, 0x4B15, 0x4B15, 0x4B15, 0x4B15, 0x4615, 0x4015, 0x3B15, 0x3615, 0x3015, 0x2B15, 0x2615, 0x2015, 0x1A15, 0x1415, 0x0E15
SPRD Bluetooth: g_BRChannelpwrvalue_B ->  0x0815, 0x0915, 0x0C15, 0x0C15, 0x0C15, 0x0C15, 0x0C15, 0x0B15
SPRD Bluetooth: g_EDRChannelpwrvalue_B -> 0x0A15, 0x0B15, 0x0D15, 0x0E15, 0x0E15, 0x0E15, 0x0E15, 0x0D15
SPRD Bluetooth: g_LEChannelpwrvalue_B ->  0x0E15,0x0E15,0x1115,0x1115,0x1115,0x1115,0x1115,0x1015
SPRD Bluetooth: LE_fix_powerword ->  0x00
SPRD Bluetooth: Classic_pc_by_channel ->  0xFF
SPRD Bluetooth: LE_pc_by_channel ->  0xFF
SPRD Bluetooth: RF_switch_mode ->  0x02
SPRD Bluetooth: Data_Capture_Mode ->  0x00
SPRD Bluetooth: Analog_IQ_Debug_Mode ->  0x00
SPRD Bluetooth: RF_common_rfu_b3 ->  0x55
SPRD Bluetooth: RF_common_rfu_w ->  0x555F4334, 0x55555555, 0x55555555, 0x55555555, 0x55555555
SPRD Bluetooth: set_mac_address
SPRD Bluetooth: marlin3_pskey_preload
SPRD Bluetooth: sprd_vnd_send_hci_vsc
SPRD Bluetooth: a0 fc b0 00 1f 00 00 bf ff 8d fe db 3d 7b 87 ff
SPRD Bluetooth: a7 ff 7f 00 e0 f7 3e 15 14 13 12 11 10 ec 01 01
SPRD Bluetooth: 01 ff 00 ff ff 00 00 00 00 00 00 00 00 00 00 00
SPRD Bluetooth: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
SPRD Bluetooth: 00 00 00 00 00 00 00 4d 00 66 01 4d 00 66 01 00
SPRD Bluetooth: 00 00 00 00 00 00 00 00 00 00 00 01 01 01 00 00
SPRD Bluetooth: 00 00 00 00 00 00 00 28 00 00 00 06 08 0c 22 00
SPRD Bluetooth: 00 00 00 00 00 00 00 00 ff 00 00 00 00 00 00 00
SPRD Bluetooth: 00 00 00 00 00 00 00 00 00 00 00 e2 04 40 1f 20
SPRD Bluetooth: 00 c8 00 06 00 00 00 00 00 00 00 00 00 00 00 00
SPRD Bluetooth: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
SPRD Bluetooth: 00 00 00
SPRD Bluetooth: Received event, len: 7
SPRD Bluetooth: 04 0e 04 05 a0 fc 01
SPRD Bluetooth: Bluetooth Firmware Node: 2D2D Date: 2d2d-2d-2d
SPRD Bluetooth: yujian.qin marlin3_rf_preload
SPRD Bluetooth: sprd_vnd_send_hci_vsc
SPRD Bluetooth: a2 fc fc 00 e0 00 e0 00 e0 00 e0 00 e0 00 e0 15
SPRD Bluetooth: 41 15 3a 15 34 15 2e 15 27 15 21 15 17 15 11 15
SPRD Bluetooth: 0b 15 07 15 3b 15 37 15 33 15 2f 15 2b 15 27 15
SPRD Bluetooth: 23 15 1f 15 1b 15 17 15 13 15 0f 15 0b 15 08 15
SPRD Bluetooth: 04 15 00 15 06 15 06 15 06 15 06 15 06 15 06 15
SPRD Bluetooth: 06 15 06 15 06 15 06 15 06 15 07 15 07 15 07 15
SPRD Bluetooth: 07 15 07 15 15 15 15 15 15 15 15 15 15 15 15 15
SPRD Bluetooth: 15 15 15 00 e0 00 e0 00 e0 00 e0 00 e0 00 e0 15
SPRD Bluetooth: 49 15 43 15 41 15 39 15 31 15 2a 15 22 15 1b 15
SPRD Bluetooth: 14 15 0e 15 4b 15 4b 15 4b 15 4b 15 4b 15 46 15
SPRD Bluetooth: 40 15 3b 15 36 15 30 15 2b 15 26 15 20 15 1a 15
SPRD Bluetooth: 14 15 0e 15 08 15 09 15 0c 15 0c 15 0c 15 0c 15
SPRD Bluetooth: 0c 15 0b 15 0a 15 0b 15 0d 15 0e 15 0e 15 0e 15
SPRD Bluetooth: 0e 15 0d 15 0e 15 0e 15 11 15 11 15 11 15 11 15
SPRD Bluetooth: 11 15 10 00 00 ff ff 02 00 00 55 34 43 5f 55 55
SPRD Bluetooth: 55 55 55 55 55 55 55 55 55 55 55 55 55 55 55
SPRD Bluetooth: Received event, len: 7
SPRD Bluetooth: 04 0e 04 05 a2 fc 01
SPRD Bluetooth: hw_rf_cback hw_rf_cback response: [0xFCA2, 0x0000, 0x01]
SPRD Bluetooth: sprd_vnd_send_hci_vsc
SPRD Bluetooth: a1 fc 03 00 00 01
SPRD Bluetooth: Received event, len: 7
SPRD Bluetooth: 04 0e 04 05 a1 fc 01
SPRD Bluetooth: hw_core_cback hw_core_cback response: [0xFCA1, 0x0001, 0x00]
SPRD Bluetooth post process
SPRD Bluetooth: Done setting line discpline
Device setup complete
[2024-09-16 16:48:31] {'availability': 'Operative', 'maxcurrent': '6', 'midMeter': 'False', 'midMeterSlaveAddress': '1', 'externalMidMeter': 'False', 'externalMidMeterSlaveAddress': '2', 'model': 'faz0_mid0_4G1_S1', 'socketType': 'Type2', 'serialNumber': '123', 'masterCard': None}
[2024-09-16 16:48:31]  get_configuration [('AllowOfflineTxForUnknownId', 'False', 'false', 'True'), ('AuthorizationCacheEnabled', 'False', 'false', 'True'), ('AuthorizeRemoteTxRequests', 'False', 'false', 'True'), ('BlinkRepeat', 'True', '1', 'True'), ('ClockAlignedDataInterval', 'True', '10', 'False'), ('ConnectionTimeOut', 'False', '30', 'True'), ('GetConfigurationMaxKeys', 'False', '43', 'True'), ('HeartbeatInterval', 'False', '5', 'True'), ('LightIntensity', 'True', '100', 'True'), ('LocalAuthorizeOffline', 'False', 'true', 'True'), ('LocalPreAuthorize', 'False', 'false', 'True'), ('MaxEnergyOnInvalidId', 'False', '0', 'True'), ('MeterValuesAlignedData', 'True', 'Energy.Active.Import.Register,Voltage,Current.Import,Power.Active.Import,Temperature,Current.Import.L1, Current.Import.L2, Current.Import.L3, Voltage.L1, Voltage.L2,\xa0Voltage.L3', 'False'), ('MeterValuesAlignedDataMaxLength', 'True', '9', 'False'), ('MeterValuesSampledData', 'False', 'Energy.Active.Import.Register,Voltage,Current.Import,Power.Active.Import,Temperature,Current.Import.L1, Current.Import.L2, Current.Import.L3,Voltage.L1,Voltage.L2,Voltage.L3', 'True'), ('MeterValuesSampledDataMaxLength', 'False', '9', 'True'), ('MeterValueSampleInterval', 'False', '30', 'True'), ('MinimumStatusDuration', 'True', '10', 'True'), ('NumberOfConnectors', 'True', '1', 'True'), ('ResetRetries', 'True', '0', 'False'), ('ConnectorPhaseRotation', 'True', 'RST,NotApplicable', 'True'), ('ConnectorPhaseRotationMaxLength', 'True', '2', 'False'), ('StopTransactionOnEVSideDisconnect', 'True', 'true', 'False'), ('StopTransactionOnInvalidId', 'True', 'true', 'False'), ('StopTxnAlignedData', 'True', 'Energy.Active.Import.Register,Voltage,Current.Import,Power.Active.Import,Temperature', 'False'), ('StopTxnAlignedDataMaxLength', 'True', '5', 'False'), ('StopTxnSampledData', 'True', 'Energy.Active.Import.Register,Voltage,Current.Import,Power.Active.Import,Temperature', 'False'), ('StopTxnSampledDataMaxLength', 'True', '5', 'False'), ('SupportedFeatureProfiles', 'True', 'Core,FirmwareManagement,LocalAuthListManagement,Reservation,SmartCharging,RemoteTrigger', 'True'), ('SupportedFeatureProfilesMaxLength', 'True', '6', 'True'), ('TransactionMessageAttempts', 'True', '3', 'False'), ('TransactionMessageRetryInterval', 'True', '5', 'False'), ('UnlockConnectorOnEVSideDisconnect', 'True', 'true', 'False'), ('WebSocketPingInterval', 'False', '20', 'True'), ('LocalAuthListEnabled', 'False', 'true', 'True'), ('LocalAuthListMaxLength', 'False', '0', 'True'), ('SendLocalListMaxLength', 'False', '0', 'True'), ('ReserveConnectorZeroSupported', 'True', 'false', 'False'), ('ChargeProfileMaxStackLevel', 'True', '3', 'False'), ('ChargingScheduleAllowedChargingRateUnit', 'True', 'w', 'False'), ('ChargingScheduleMaxPeriods', 'True', '24', 'False'), ('ConnectorSwitch3to1PhaseSupported', 'True', 'false', 'False'), ('MaxChargingProfilesInstalled', 'True', '50', 'False')]
[2024-09-16 16:48:31] Diagnostics status has been reset.
[2024-09-16 16:48:31] Firmware status has been reset to Idle.
[2024-09-16 16:48:31]  get_configuration [('AllowOfflineTxForUnknownId', 'False', 'false', 'True'), ('AuthorizationCacheEnabled', 'False', 'false', 'True'), ('AuthorizeRemoteTxRequests', 'False', 'false', 'True'), ('BlinkRepeat', 'True', '1', 'True'), ('ClockAlignedDataInterval', 'True', '10', 'False'), ('ConnectionTimeOut', 'False', '30', 'True'), ('GetConfigurationMaxKeys', 'False', '43', 'True'), ('HeartbeatInterval', 'False', '5', 'True'), ('LightIntensity', 'True', '100', 'True'), ('LocalAuthorizeOffline', 'False', 'true', 'True'), ('LocalPreAuthorize', 'False', 'false', 'True'), ('MaxEnergyOnInvalidId', 'False', '0', 'True'), ('MeterValuesAlignedData', 'True', 'Energy.Active.Import.Register,Voltage,Current.Import,Power.Active.Import,Temperature,Current.Import.L1, Current.Import.L2, Current.Import.L3, Voltage.L1, Voltage.L2,\xa0Voltage.L3', 'False'), ('MeterValuesAlignedDataMaxLength', 'True', '9', 'False'), ('MeterValuesSampledData', 'False', 'Energy.Active.Import.Register,Voltage,Current.Import,Power.Active.Import,Temperature,Current.Import.L1, Current.Import.L2, Current.Import.L3,Voltage.L1,Voltage.L2,Voltage.L3', 'True'), ('MeterValuesSampledDataMaxLength', 'False', '9', 'True'), ('MeterValueSampleInterval', 'False', '30', 'True'), ('MinimumStatusDuration', 'True', '10', 'True'), ('NumberOfConnectors', 'True', '1', 'True'), ('ResetRetries', 'True', '0', 'False'), ('ConnectorPhaseRotation', 'True', 'RST,NotApplicable', 'True'), ('ConnectorPhaseRotationMaxLength', 'True', '2', 'False'), ('StopTransactionOnEVSideDisconnect', 'True', 'true', 'False'), ('StopTransactionOnInvalidId', 'True', 'true', 'False'), ('StopTxnAlignedData', 'True', 'Energy.Active.Import.Register,Voltage,Current.Import,Power.Active.Import,Temperature', 'False'), ('StopTxnAlignedDataMaxLength', 'True', '5', 'False'), ('StopTxnSampledData', 'True', 'Energy.Active.Import.Register,Voltage,Current.Import,Power.Active.Import,Temperature', 'False'), ('StopTxnSampledDataMaxLength', 'True', '5', 'False'), ('SupportedFeatureProfiles', 'True', 'Core,FirmwareManagement,LocalAuthListManagement,Reservation,SmartCharging,RemoteTrigger', 'True'), ('SupportedFeatureProfilesMaxLength', 'True', '6', 'True'), ('TransactionMessageAttempts', 'True', '3', 'False'), ('TransactionMessageRetryInterval', 'True', '5', 'False'), ('UnlockConnectorOnEVSideDisconnect', 'True', 'true', 'False'), ('WebSocketPingInterval', 'False', '20', 'True'), ('LocalAuthListEnabled', 'False', 'true', 'True'), ('LocalAuthListMaxLength', 'False', '0', 'True'), ('SendLocalListMaxLength', 'False', '0', 'True'), ('ReserveConnectorZeroSupported', 'True', 'false', 'False'), ('ChargeProfileMaxStackLevel', 'True', '3', 'False'), ('ChargingScheduleAllowedChargingRateUnit', 'True', 'w', 'False'), ('ChargingScheduleMaxPeriods', 'True', '24', 'False'), ('ConnectorSwitch3to1PhaseSupported', 'True', 'false', 'False'), ('MaxChargingProfilesInstalled', 'True', '50', 'False')]
[2024-09-16 16:48:32] Set eth
[2024-09-16 16:48:32] Agent registered successfully
[2024-09-16 16:48:32] Registering GATT application...
[2024-09-16 16:48:32] Advertisement registered
[2024-09-16 16:48:32] GATT application registered
[2024-09-16 16:48:32] FlaskModuleThread çalıştırıldı.
 * Serving Flask app 'src.flaskModule' (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
[2024-09-16 16:48:32] ********************************** self.initially_charge True self.transaction_id None self.id_tag 04DC9C8A701090
WARNING:werkzeug: * Running on all addresses.
   WARNING: This is a development server. Do not use it in a production deployment.
INFO:werkzeug: * Running on http://192.168.1.100:80/ (Press CTRL+C to quit)
[2024-09-16 16:48:33] file size: 0
[2024-09-16 16:48:34]  Device State: DeviceState.IDLE
[2024-09-16 16:48:34]  pwm 0 setleniyor...
[2024-09-16 16:48:34]  Pid CP PWM : 0
[2024-09-16 16:48:34]  Charge Point Status: ChargePointStatus.available
[2024-09-16 16:48:34]  Ocpp URL: ws://192.168.1.115:8180/steve/websocket/CentralSystemService/AHMETK
[2024-09-16 16:48:34] Using SSL without certificate
[2024-09-16 16:48:34] ocppStart Exception: [Errno 101] Network is unreachable
[2024-09-16 16:48:34]  Led State: LedState.StandBy
[2024-09-16 16:48:35] L23
[2024-09-16 16:48:36] L23
[2024-09-16 16:48:36]  pwm 0 setleniyor...
[2024-09-16 16:48:36]  Pid CP PWM : 0
[2024-09-16 16:48:37] L23
[2024-09-16 16:48:38] L23
[2024-09-16 16:48:38]  pwm 0 setleniyor...
[2024-09-16 16:48:38]  Pid CP PWM : 0
[2024-09-16 16:48:38] set response: ['\x02', 's', 'G', '0', '0', '5', '1', '0', '0', '0', '0', '0', '6', '6', '\n']
[2024-09-16 16:48:38] self.application.ev.pid_cp_pwm 0.0
[2024-09-16 16:48:39] L23
[2024-09-16 16:48:39]  pwm 0 setlendi
[2024-09-16 16:48:39]  relay komut verildi: Relay.Off
[2024-09-16 16:48:39]  Röle: Relay.Off
[2024-09-16 16:48:39]  *********************** get response relay Relay.Off
[2024-09-16 16:48:40] L23
[2024-09-16 16:48:40]  relay okundu: Relay.Off
[2024-09-16 16:48:40]  Röle başarılı Off
[2024-09-16 16:48:40] Kilit açılıyor...
[2024-09-16 16:48:40]  MCU'ya gönderilen komut: LockerState.Lock
[2024-09-16 16:48:40]  MCU'ya gönderilen komut: LockerState.Unlock
[2024-09-16 16:48:41] L23
[2024-09-16 16:48:41]  MCU gelen response: LockerState.Unlock
[2024-09-16 16:48:42] L23
[2024-09-16 16:48:42]  Kilit açıldı.
[2024-09-16 16:48:42]  Error Code: ChargePointErrorCode.no_error
[2024-09-16 16:48:42] Error info: None
[2024-09-16 16:48:42]  Success Interfaces: ['eth1']
Interface 'ppp0' not existent.
[2024-09-16 16:48:43] L23
[2024-09-16 16:48:43]  Proximity Pilot Current: 0
[2024-09-16 16:48:44] L23
[2024-09-16 16:48:44]  Ocpp URL: ws://192.168.1.115:8180/steve/websocket/CentralSystemService/AHMETK
[2024-09-16 16:48:44] Using SSL without certificate
Error: device 'ttyUSB2' not compatible with connection 'ppp0'.
[2024-09-16 16:48:44] set_4G Exception: Command 'nmcli connection up ppp0 ifname ttyUSB2' returned non-zero exit status 4.
[2024-09-16 16:48:44] Ocpp'ye bağlanmaya çalışıyor...
INFO:charge_point:Request:BootNotificationPayload(charge_point_model='AHMETK', charge_point_vendor='AHMETK', charge_box_serial_number=None, charge_point_serial_number=None, firmware_version=None, iccid=None, imsi=None, meter_serial_number=None, meter_type=None)
INFO:central_system:Response:BootNotificationPayload(current_time='2024-09-16T13:48:43.484Z', interval=3000, status='Accepted')
[2024-09-16 16:48:44] Connected to central system.
[2024-09-16 16:48:44] --------------- self.initilly True
[2024-09-16 16:48:44] Daha önce başlamış bir şarj vardı. Durduruluyor...
[2024-09-16 16:48:44]  Daha önceden başlamıs bir şarj var fakat transaction id None, stop gönderilmedi.
[2024-09-16 16:48:44] ---------------------- self.application.initilly = False
[2024-09-16 16:48:44]

--------------------------------------------------run_coroutine_threadsafe finish ---------------------------

INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:48:43.756Z')
[2024-09-16 16:48:45] L23
[2024-09-16 16:48:46] L23
[2024-09-16 16:48:47] L23
[2024-09-16 16:48:48] L23
[2024-09-16 16:48:49] L23
INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:48:49.850Z')
[2024-09-16 16:48:50] L23
[2024-09-16 16:48:51] L23
[2024-09-16 16:48:52] L23
[2024-09-16 16:48:53] Led güncelleme ->  LedState.StandBy
[2024-09-16 16:48:53] L23
[2024-09-16 16:48:54] L23
INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:48:54.724Z')
Interface 'ppp0' not existent.
[2024-09-16 16:48:55] L23
[2024-09-16 16:48:56] L23
[2024-09-16 16:48:57] L23
INFO:charge_point:Request:StatusNotificationPayload(connector_id=1, error_code=<ChargePointErrorCode.no_error: 'NoError'>, status=<ChargePointStatus.available: 'Available'>, timestamp='2024-09-16T16:48:57Z', info=None, vendor_id=None, vendor_error_code=None)
INFO:central_system:Response:StatusNotificationPayload()
[2024-09-16 16:48:58] L23
[2024-09-16 16:48:59] L23
INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:48:59.631Z')
[2024-09-16 16:49:00] L23
[2024-09-16 16:49:01] L23
[2024-09-16 16:49:02]  Control Pilot C
[2024-09-16 16:49:02]  Device State: DeviceState.CHARGING
[2024-09-16 16:49:02]  Cihaz şarja başlayacak...
[2024-09-16 16:49:02]  Charge Point Status: ChargePointStatus.preparing
[2024-09-16 16:49:02] Error info: None
[2024-09-16 16:49:02] Cihaz A state'inden C statine geçmiş.
[2024-09-16 16:49:02]  Device State: DeviceState.CONNECTED
INFO:charge_point:Request:StatusNotificationPayload(connector_id=1, error_code=<ChargePointErrorCode.no_error: 'NoError'>, status=<ChargePointStatus.preparing: 'Preparing'>, timestamp='2024-09-16T16:49:02Z', info=None, vendor_id=None, vendor_error_code=None)
INFO:central_system:Response:StatusNotificationPayload()
[2024-09-16 16:49:02]  Led State: LedState.Connecting
[2024-09-16 16:49:02] L25
[2024-09-16 16:49:02]  Proximity Pilot Current: 32
[2024-09-16 16:49:03]  Device State: DeviceState.WAITING_AUTH
[2024-09-16 16:49:03]  Cihazın Authorize olması bekleniyor...
[2024-09-16 16:49:03]  Cihazın Authorize olması bekleniyor...
[2024-09-16 16:49:03] L25
[2024-09-16 16:49:04]  Control Pilot B
[2024-09-16 16:49:04]  Cihazın Authorize olması bekleniyor...
[2024-09-16 16:49:04] D1
[2024-09-16 16:49:04] L24
INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:49:04.509Z')
[2024-09-16 16:49:05]  Cihazın Authorize olması bekleniyor...
[2024-09-16 16:49:05] L24
[2024-09-16 16:49:06]  Readed card id 04DC9C8A701090
[2024-09-16 16:49:06]  Card id set edildi 04DC9C8A701090
[2024-09-16 16:49:06] Billing Card Detected : 04DC9C8A701090
[2024-09-16 16:49:06] transaction started
[2024-09-16 16:49:06] Device is online
[2024-09-16 16:49:06] LocalPreAuthorize is False
[2024-09-16 16:49:06] Sending authorization request to Central System 2
[2024-09-16 16:49:06] Yetkilendirme talebi gönderiliyor 04DC9C8A701090
INFO:charge_point:Request:AuthorizePayload(id_tag='04DC9C8A701090')
[2024-09-16 16:49:06]  Cihazın Authorize olması bekleniyor...
INFO:central_system:Response:AuthorizePayload(id_tag_info={'status': 'Accepted', 'expiry_date': '2024-09-16T14:49:05.667Z'})
[2024-09-16 16:49:06] Merkezi Sistem tarafından yetkilendirildi
[2024-09-16 16:49:06] Authorization Result: AuthorizationStatus.accepted
[2024-09-16 16:49:06] Authorized for billing card:  04DC9C8A701090
[2024-09-16 16:49:06]  Led State: LedState.RfidVerified
[2024-09-16 16:49:06] L18
[2024-09-16 16:49:07]  Cihazın Authorize olması bekleniyor...
[2024-09-16 16:49:07] Kilit kitleniyor...
[2024-09-16 16:49:07]  MCU'ya gönderilen komut: LockerState.Unlock
[2024-09-16 16:49:07]  Led State: LedState.Connecting
Interface 'ppp0' not existent.
[2024-09-16 16:49:07] L24
INFO:charge_point:Request:StatusNotificationPayload(connector_id=1, error_code=<ChargePointErrorCode.no_error: 'NoError'>, status=<ChargePointStatus.preparing: 'Preparing'>, timestamp='2024-09-16T16:49:07Z', info=None, vendor_id=None, vendor_error_code=None)
[2024-09-16 16:49:07]  MCU'ya gönderilen komut: LockerState.Lock
INFO:central_system:Response:StatusNotificationPayload()
[2024-09-16 16:49:08]  MCU gelen response: LockerState.Lock
[2024-09-16 16:49:08]  Kilit kitlendi.
[2024-09-16 16:49:08]  Pid CP PWM : 6
[2024-09-16 16:49:08]  Device State: DeviceState.WAITING_STATE_C
[2024-09-16 16:49:08]  Cihazın şarja geçmesi bekleniyor... Şarja geçmezse 5 dk sonra sonlanacak...
[2024-09-16 16:49:08] L24
[2024-09-16 16:49:08] set response: ['\x02', 's', 'G', '0', '0', '5', '1', '0', '0', '6', '0', '0', '7', '2', '\n']
[2024-09-16 16:49:09] L24
INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:49:09.384Z')
[2024-09-16 16:49:10]  Control Pilot C
[2024-09-16 16:49:10]  Device State: DeviceState.CHARGING
[2024-09-16 16:49:10]  Cihaz şarja başlayacak...
[2024-09-16 16:49:10]  Pid CP PWM : 6
[2024-09-16 16:49:10]  relay komut verildi: Relay.On
[2024-09-16 16:49:10]  Röle: Relay.On
[2024-09-16 16:49:10] L25
[2024-09-16 16:49:10] set response: ['\x02', 's', 'G', '0', '0', '5', '1', '0', '0', '6', '0', '0', '7', '2', '\n']
[2024-09-16 16:49:10]  *********************** get response relay Relay.On
[2024-09-16 16:49:11]  relay okundu: Relay.On
[2024-09-16 16:49:11]  Charge Point Status: ChargePointStatus.charging
[2024-09-16 16:49:11] Error info: None
[2024-09-16 16:49:11]  Charge: True
INFO:charge_point:Request:StatusNotificationPayload(connector_id=1, error_code=<ChargePointErrorCode.no_error: 'NoError'>, status=<ChargePointStatus.charging: 'Charging'>, timestamp='2024-09-16T16:49:11Z', info=None, vendor_id=None, vendor_error_code=None)
[2024-09-16 16:49:11]  Cihaz şarja başlıyor... *************************************************************
[2024-09-16 16:49:11] measurands: ['Energy.Active.Import.Register', 'Voltage', 'Current.Import', 'Power.Active.Import', 'Temperature', 'Current.Import.L1', ' Current.Import.L2', ' Current.Import.L3', 'Voltage.L1', 'Voltage.L2', 'Voltage.L3']
[2024-09-16 16:49:11] max_length: 9
INFO:charge_point:Request: MeterValuesPayload(connector_id=1, meter_value=[{'timestamp': '2024-09-16T16:49:11Z', 'sampledValue': [{'value': '0.0', 'context': <ReadingContext.sample_periodic: 'Sample.Periodic'>, 'format': <ValueFormat.raw: 'Raw'>, 'measurand': <Measurand.energy_active_import_register: 'Energy.Active.Import.Register'>, 'phase': None, 'location': <Location.cable: 'Cable'>, 'unit': <UnitOfMeasure.kwh: 'kWh'>}, {'value': '0', 'context': <ReadingContext.sample_periodic: 'Sample.Periodic'>, 'format': <ValueFormat.raw: 'Raw'>, 'measurand': <Measurand.power_active_import: 'Power.Active.Import'>, 'phase': None, 'location': <Location.cable: 'Cable'>, 'unit': <UnitOfMeasure.kw: 'kW'>}, {'value': '+33.4', 'context': <ReadingContext.sample_periodic: 'Sample.Periodic'>, 'format': <ValueFormat.raw: 'Raw'>, 'measurand': <Measurand.temperature: 'Temperature'>, 'phase': None, 'location': <Location.cable: 'Cable'>, 'unit': <UnitOfMeasure.celsius: 'Celsius'>}, {'value': '0', 'context': <ReadingContext.sample_periodic: 'Sample.Periodic'>, 'format': <ValueFormat.raw: 'Raw'>, 'measurand': <Measurand.current_import: 'Current.Import'>, 'phase': <Phase.l1: 'L1'>, 'location': <Location.cable: 'Cable'>, 'unit': <UnitOfMeasure.a: 'A'>}, {'value': '0', 'context': <ReadingContext.sample_periodic: 'Sample.Periodic'>, 'format': <ValueFormat.raw: 'Raw'>, 'measurand': <Measurand.voltage: 'Voltage'>, 'phase': <Phase.l1: 'L1'>, 'location': <Location.cable: 'Cable'>, 'unit': <UnitOfMeasure.v: 'V'>}, {'value': '0', 'context': <ReadingContext.sample_periodic: 'Sample.Periodic'>, 'format': <ValueFormat.raw: 'Raw'>, 'measurand': <Measurand.voltage: 'Voltage'>, 'phase': <Phase.l2: 'L2'>, 'location': <Location.cable: 'Cable'>, 'unit': <UnitOfMeasure.v: 'V'>}, {'value': '0', 'context': <ReadingContext.sample_periodic: 'Sample.Periodic'>, 'format': <ValueFormat.raw: 'Raw'>, 'measurand': <Measurand.voltage: 'Voltage'>, 'phase': <Phase.l3: 'L3'>, 'location': <Location.cable: 'Cable'>, 'unit': <UnitOfMeasure.v: 'V'>}]}], transaction_id=None)
INFO:central_system:Response:StatusNotificationPayload()
[2024-09-16 16:49:11] Cihaz şarjda...
INFO:central_system:Response: MeterValuesPayload()
[2024-09-16 16:49:11]  Led State: LedState.Charging
[2024-09-16 16:49:11] L26
[2024-09-16 16:49:12] Cihaz şarjda...
[2024-09-16 16:49:12] L26
[2024-09-16 16:49:13] Led güncelleme ->  LedState.Charging
[2024-09-16 16:49:13] Cihaz şarjda...
[2024-09-16 16:49:13] L26
[2024-09-16 16:49:14] Cihaz şarjda...
[2024-09-16 16:49:14] L26
INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:49:14.250Z')
[2024-09-16 16:49:15] Cihaz şarjda...
[2024-09-16 16:49:15] L26
[2024-09-16 16:49:16] Cihaz şarjda...
[2024-09-16 16:49:16] L26
[2024-09-16 16:49:17] Cihaz şarjda...
[2024-09-16 16:49:17] L26
INFO:charge_point:Request:StatusNotificationPayload(connector_id=1, error_code=<ChargePointErrorCode.no_error: 'NoError'>, status=<ChargePointStatus.charging: 'Charging'>, timestamp='2024-09-16T16:49:17Z', info=None, vendor_id=None, vendor_error_code=None)
INFO:central_system:Response:StatusNotificationPayload()
[2024-09-16 16:49:18] Cihaz şarjda...
[2024-09-16 16:49:18] L26
[2024-09-16 16:49:19] Cihaz şarjda...
[2024-09-16 16:49:19] L26
Interface 'ppp0' not existent.
INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:49:20.209Z')
[2024-09-16 16:49:20] Cihaz şarjda...
[2024-09-16 16:49:20] L26
[2024-09-16 16:49:21] Cihaz şarjda...
[2024-09-16 16:49:21] L26
[2024-09-16 16:49:22] Cihaz şarjda...
[2024-09-16 16:49:22] L26
[2024-09-16 16:49:23] Cihaz şarjda...
[2024-09-16 16:49:23] L26
[2024-09-16 16:49:24] Cihaz şarjda...
[2024-09-16 16:49:24] L26
INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:49:25.044Z')
[2024-09-16 16:49:25] Cihaz şarjda...
[2024-09-16 16:49:25] L26
[2024-09-16 16:49:26] Cihaz şarjda...
[2024-09-16 16:49:26] L26
[2024-09-16 16:49:27] Cihaz şarjda...
[2024-09-16 16:49:27] L26
INFO:charge_point:Request:StatusNotificationPayload(connector_id=1, error_code=<ChargePointErrorCode.no_error: 'NoError'>, status=<ChargePointStatus.charging: 'Charging'>, timestamp='2024-09-16T16:49:27Z', info=None, vendor_id=None, vendor_error_code=None)
INFO:central_system:Response:StatusNotificationPayload()
[2024-09-16 16:49:28] Cihaz şarjda...
[2024-09-16 16:49:28] L26
[2024-09-16 16:49:29] Cihaz şarjda...
[2024-09-16 16:49:29] L26
INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:49:29.880Z')
[2024-09-16 16:49:30] Cihaz şarjda...
[2024-09-16 16:49:30] L26
[2024-09-16 16:49:31] Cihaz şarjda...
[2024-09-16 16:49:31] L26
[2024-09-16 16:49:32] Cihaz şarjda...
[2024-09-16 16:49:32] L26
[2024-09-16 16:49:33] Led güncelleme ->  LedState.Charging
[2024-09-16 16:49:33]  Readed card id 04DC9C8A701090
[2024-09-16 16:49:33]  Card id set edildi 04DC9C8A701090
[2024-09-16 16:49:33] Billing Card Detected : 04DC9C8A701090
[2024-09-16 16:49:33] şarj aktif, transaction stopped
[2024-09-16 16:49:33] self.application.process.id_tag == value
[2024-09-16 16:49:33] Device is online
[2024-09-16 16:49:33] LocalPreAuthorize is False
[2024-09-16 16:49:33] Sending authorization request to Central System 2
[2024-09-16 16:49:33] Yetkilendirme talebi gönderiliyor 04DC9C8A701090
INFO:charge_point:Request:AuthorizePayload(id_tag='04DC9C8A701090')
INFO:central_system:Response:AuthorizePayload(id_tag_info={'status': 'Accepted', 'expiry_date': '2024-09-16T14:49:32.791Z'})
[2024-09-16 16:49:33] Merkezi Sistem tarafından yetkilendirildi
[2024-09-16 16:49:33] Authorization Result: AuthorizationStatus.accepted
[2024-09-16 16:49:33] Authorized for billing card:  04DC9C8A701090
[2024-09-16 16:49:33]  Device State: DeviceState.STOPPED_BY_USER
[2024-09-16 16:49:33]  pwm 0 setleniyor...
[2024-09-16 16:49:33]  Pid CP PWM : 0
[2024-09-16 16:49:33] True
[2024-09-16 16:49:33] False
[2024-09-16 16:49:33] False
[2024-09-16 16:49:33] Charging break!
[2024-09-16 16:49:33]  Led State: LedState.RfidVerified
[2024-09-16 16:49:33] L18
[2024-09-16 16:49:33] set response: ['\x02', 's', 'G', '0', '0', '5', '1', '0', '0', '0', '0', '0', '6', '6', '\n']
[2024-09-16 16:49:34] self.application.ev.pid_cp_pwm 0.0
[2024-09-16 16:49:34]  pwm 0 setlendi
[2024-09-16 16:49:34]  relay komut verildi: Relay.Off
[2024-09-16 16:49:34]  Röle: Relay.Off
[2024-09-16 16:49:34]  Led State: LedState.ChargingStopped
[2024-09-16 16:49:34] L20
[2024-09-16 16:49:34]  *********************** get response relay Relay.Off
INFO:charge_point:Request:HeartbeatPayload()
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:49:34.715Z')
[2024-09-16 16:49:35]  relay okundu: Relay.Off
[2024-09-16 16:49:35]  Röle başarılı Off
[2024-09-16 16:49:35] Kilit açılıyor...
[2024-09-16 16:49:35]  MCU'ya gönderilen komut: LockerState.Lock
[2024-09-16 16:49:35] L20
[2024-09-16 16:49:35]  MCU'ya gönderilen komut: LockerState.Unlock
[2024-09-16 16:49:36]  Control Pilot B
[2024-09-16 16:49:36] D6
[2024-09-16 16:49:36] L20
[2024-09-16 16:49:36]  MCU gelen response: LockerState.Unlock
[2024-09-16 16:49:37]  Kilit açıldı.
[2024-09-16 16:49:37] L20
INFO:charge_point:Request:StatusNotificationPayload(connector_id=1, error_code=<ChargePointErrorCode.no_error: 'NoError'>, status=<ChargePointStatus.charging: 'Charging'>, timestamp='2024-09-16T16:49:37Z', info=None, vendor_id=None, vendor_error_code=None)
INFO:central_system:Response:StatusNotificationPayload()
[2024-09-16 16:49:38] L20
[2024-09-16 16:49:39] L20
INFO:charge_point:Request:HeartbeatPayload()
[2024-09-16 16:49:40]  **************** şarj geçmişi siliniyor ...
[2024-09-16 16:49:40]  Charge: False
INFO:central_system:Response:HeartbeatPayload(current_time='2024-09-16T13:49:39.550Z')
[2024-09-16 16:49:40] L20
[2024-09-16 16:49:41] L20
[2024-09-16 16:49:42] L20
[2024-09-16 16:49:43] L20
[2024-09-16 16:49:44] L20
